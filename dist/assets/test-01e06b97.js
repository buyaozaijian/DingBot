import{_ as U,r as i,o as h,c as g,a as s,b as a,w as o,F as x,d as S,e as _,t as v,f as P,g as D,p as N,h as z}from"./index-1e0fd797.js";const I="/assets/4-678d4de5.png";const T={name:"test",computed:{view_nums(){return this.form.view_num},module_nums(){return this.form.module_num},module_list(){return this.form.modulelist}},watch:{view_nums(e,l){if(e!==l){this.form.viewlist=[];for(let d=0;d<e;d++){let b={view_i_name:"",view_i_image:""};this.form.viewlist.push(b)}}},module_nums(e,l){if(e!==l){this.form.modulelist=[];for(let d=0;d<e;d++){let b={module_j_name:"",module_j_chocie_num:0,module_j_choice:[]};this.form.modulelist.push(b)}}},module_list(e,l){}},created(){this.pageNum=Math.ceil(this.itemlist.length/this.pageSize)||1;for(let e=0;e<this.pageNum;e++)this.totalPage[e]=this.itemlist.slice(this.pageSize*e,this.pageSize*(e+1));this.dataShow=this.totalPage[this.currentPage]},methods:{onSubmit(){console.log(this.fileList[0].raw),console.log(this.fileList1[0].raw),console.log(this.fileList1[1].raw);let e=new FormData;e.append("name",this.form.name),e.append("description",this.form.description),e.append("price",this.form.price),this.$axios({headers:{JWT:localStorage.getItem("token")},method:"post",url:"http://152.136.172.123/api/administrator/addProduct/",data:e})},delFile(){this.fileList=[]},handleChange(e,l){this.fileList=l},uploadFile(e){this.formData.append("file",e.file)},handleRemove(e,l){console.log(e,l)},handlePreview(e){console.log(e)},delFile1(){},handleChange1(e,l){this.fileList1=l},uploadFile1(e){this.formData.append("file",e.file)},handleRemove1(e,l){console.log(e,l)},handlePreview1(e){console.log(e)},hCurrentChange(e){this.currentPage=e,this.dataShow=this.totalPage[this.currentPage-1]}},data(){return{fileList:[],fileList1:[],form:{name:"",description:"",price:0,viewlist:[],modulelist:[],view_num:"0",module_num:0},dialogVisible:!1,dialogVisible1:!1,searchThing:"",show:0,itemlist:[{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3},{name:"huaban",type:1,money:1e3}],totalPage:[],pageSize:10,pageNum:6,dataShow:[],currentPage:0}}},q=e=>(N("data-v-05cdb673"),e=e(),z(),e),B={style:{width:"1300px"}},R={class:"search-card"},j={style:{position:"relative",width:"300px",top:"120px",left:"750px",display:"flex"}},E={style:{position:"relative",top:"50px"}},J=q(()=>s("img",{src:I,class:"item-pic"},null,-1)),M={class:"item-info"};function W(e,l,d,b,n,m){const y=i("el-input"),f=i("el-button"),u=i("el-form-item"),V=i("el-upload"),c=i("el-radio"),w=i("el-radio-group"),r=i("el-option"),F=i("el-select"),L=i("el-form"),C=i("el-dialog");return h(),g("div",B,[s("div",R,[s("div",j,[a(y,{modelValue:n.searchThing,"onUpdate:modelValue":l[0]||(l[0]=t=>n.searchThing=t),placeholder:"请输入"},null,8,["modelValue"]),a(f,{type:"primary",style:{"margin-left":"10px"}},{default:o(()=>[_("搜索")]),_:1})]),s("div",E,[a(f,{type:"success",plain:"",onClick:l[1]||(l[1]=t=>n.dialogVisible=!0)},{default:o(()=>[_("添加商品")]),_:1})])]),(h(!0),g(x,null,S(n.itemlist,(t,p)=>(h(),g("div",{class:"item-card",key:t,onClick:l[2]||(l[2]=k=>n.dialogVisible1=!0)},[J,s("div",M,[s("div",null," 商品名:"+v(p.name),1),s("div",null," 类型:"+v(p.type),1),s("div",null," 价格:"+v(p.money),1)])]))),128)),a(C,{modelValue:n.dialogVisible,"onUpdate:modelValue":l[9]||(l[9]=t=>n.dialogVisible=t),title:"添加商品"},{default:o(()=>[a(L,{model:n.form,"label-width":"120px"},{default:o(()=>[a(u,{label:"商品名称"},{default:o(()=>[a(y,{modelValue:n.form.name,"onUpdate:modelValue":l[3]||(l[3]=t=>n.form.name=t)},null,8,["modelValue"])]),_:1}),a(u,{label:"商品描述"},{default:o(()=>[a(y,{modelValue:n.form.description,"onUpdate:modelValue":l[4]||(l[4]=t=>n.form.description=t)},null,8,["modelValue"])]),_:1}),a(u,{label:"商品底价"},{default:o(()=>[a(y,{modelValue:n.form.price,"onUpdate:modelValue":l[5]||(l[5]=t=>n.form.price=t)},null,8,["modelValue"])]),_:1}),a(u,{label:"产品图"},{default:o(()=>[a(V,{class:"upload",ref:"upload",action:"string","file-list":n.fileList,"auto-upload":!1,"http-request":m.uploadFile,"on-change":m.handleChange,"on-preview":m.handlePreview,"on-remove":m.handleRemove,multiple:"multiple"},{default:o(()=>[a(f,{slot:"trigger",size:"small",type:"primary",onClick:m.delFile},{default:o(()=>[_("选取文件")]),_:1},8,["onClick"])]),_:1},8,["file-list","http-request","on-change","on-preview","on-remove"])]),_:1}),a(u,{label:"产品类别一"},{default:o(()=>[a(w,{modelValue:n.form.type1,"onUpdate:modelValue":l[6]||(l[6]=t=>n.form.type1=t)},{default:o(()=>[a(c,{label:"带把"}),a(c,{label:"不带把"})]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"产品类别二"},{default:o(()=>[a(w,{modelValue:n.form.type2,"onUpdate:modelValue":l[7]||(l[7]=t=>n.form.type2=t)},{default:o(()=>[a(c,{label:"城市"}),a(c,{label:"越野"})]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"产品视角数量"},{default:o(()=>[a(F,{modelValue:n.form.view_num,"onUpdate:modelValue":l[8]||(l[8]=t=>n.form.view_num=t),placeholder:"请选择数量"},{default:o(()=>[a(r,{label:"0",value:"0"}),a(r,{label:"1",value:"1"}),a(r,{label:"2",value:"2"}),a(r,{label:"3",value:"3"}),a(r,{label:"4",value:"4"}),a(r,{label:"5",value:"5"})]),_:1},8,["modelValue"])]),_:1}),(h(!0),g(x,null,S(n.form.viewlist,(t,p)=>(h(),P(u,{label:"产品视角名称"+(p+1),key:p},{default:o(()=>[a(y,{modelValue:t.view_i_name,"onUpdate:modelValue":k=>t.view_i_name=k,label:"视角"+(p+1)},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["label"]))),128)),n.form.view_num!=="0"?(h(),P(u,{key:0,label:"产品视角底层图"},{default:o(()=>[a(V,{class:"upload",ref:"upload",action:"string","file-list":n.fileList1,"auto-upload":!1,"http-request":m.uploadFile1,"on-change":m.handleChange1,"on-preview":m.handlePreview1,"on-remove":m.handleRemove1,multiple:"multiple"},{default:o(()=>[a(f,{slot:"trigger",size:"small",type:"primary",onClick:m.delFile1},{default:o(()=>[_("选取文件")]),_:1},8,["onClick"])]),_:1},8,["file-list","http-request","on-change","on-preview","on-remove"])]),_:1})):D("",!0),a(f,{onClick:m.onSubmit,style:{"margin-left":"20px","margin-bottom":"50px"}},{default:o(()=>[_("提交")]),_:1},8,["onClick"])]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(C,{modelValue:n.dialogVisible1,"onUpdate:modelValue":l[10]||(l[10]=t=>n.dialogVisible1=t),title:"商品信息"},null,8,["modelValue"])])}const G=U(T,[["render",W],["__scopeId","data-v-05cdb673"]]);export{G as default};
